package main

import (
	"os/exec"
	"strings"
	"sync"
)

func getAssetFinderSubdomainList(subdomainChan chan string, wg *sync.WaitGroup) {
	defer wg.Done()

	cmd := exec.Command("assetfinder", "-subs-only", domainUrl)
	stdout, err := cmd.Output()

	if err != nil {
		println(err.Error())
		return
	}

	lines := strings.Split((string(stdout)), "\n")

	for _, line := range lines {
		println("assetfinder found " + line)
		subdomainChan <- line
	}
}

func getSubFinderSubdomainList(subdomainChan chan string, wg *sync.WaitGroup) {
	defer wg.Done()

	cmd := exec.Command("subfinder", "-d", domainUrl)
	stdout, err := cmd.Output()
	if err != nil {
		println(err.Error())
		return
	}

	lines := strings.Split((string(stdout)), "\n")
	for _, line := range lines {
		println("subfinder found " + line)
		subdomainChan <- line
	}
}
