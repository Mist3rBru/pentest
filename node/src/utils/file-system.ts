import { existsSync } from 'node:fs'
import { mkdir, writeFile as writeFileAsync } from 'node:fs/promises'
import { join, resolve } from 'node:path'

const dataFolderPath = resolve(__dirname, '..', '..', 'data')

export async function writeFile(file: string, data: string): Promise<void> {
  if (!existsSync(dataFolderPath)) {
    await mkdir(dataFolderPath, { recursive: true })
  }
  await writeFileAsync(join(dataFolderPath, file), data)
}
